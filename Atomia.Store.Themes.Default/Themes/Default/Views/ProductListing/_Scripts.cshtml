@model Atomia.Store.AspNetMvc.Models.ProductListingViewModel

<script type="text/javascript">
    var Atomia = Atomia || {};
    Atomia.VM = Atomia.VM || {};

    Atomia.VM.ConnectedDomainStatus = Atomia.ViewModels.CreateDomainStatusModel();

    Atomia.VM.Products = Atomia.ViewModels.CreateProductListingModel(Atomia.VM.Cart, { SingleSelection: true });
    Atomia.VM.Products.Load(@Html.JsonAction("GetData", "ProductListing", new { query = Model.Query }));
</script>