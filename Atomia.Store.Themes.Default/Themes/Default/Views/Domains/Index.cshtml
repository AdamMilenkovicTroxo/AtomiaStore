@model Atomia.Store.AspNetMvc.Models.DomainsViewModel

@{
    Layout = "~/Themes/Default/Views/_MainLayout.cshtml";
}

<div class="settingsboxinner">
    <p>@Html.CommonResourceRaw("DomainRegistrationDescription")</p>

    @using (Html.BeginForm())
    {

        <fieldset>
            <label for="queryType-register">
                <input id="queryType-register" name="queryType" type="radio" value="register" data-bind="checked: Domains.QueryType" />
            </label>
            <label for="queryType-move">
                <input id="queryType-move" name="queryType" type="radio" value="move" data-bind="checked: Domains.QueryType" />
            </label>
        </fieldset>
    }

    <div data-bind="visible: Domains.DomainRegistrationActive">
        @Html.Partial("_DomainRegistration", Model)
    </div>

    <p class="actions">
        @Html.RouteLink(Html.CommonResource("Next"), "Hosting", null, new { id = "next_step", @class = "button large green" })
    </p>
</div>

@section scripts {
    <script type="text/javascript">
        var Atomia = Atomia || {};
        Atomia.VM = Atomia.VM || {};

        Atomia.VM.Domains = Atomia.ViewModels.CreateDomains();
        Atomia.VM.DomainRegistration = Atomia.ViewModels.CreateDomainRegistration(Atomia.VM.Cart);

        Atomia.VM.Progress.Step(1);
    </script>
}
