@model Atomia.Store.Themes.Default.Models.DomainsViewModel
@using Atomia.Store.Core;
@using Atomia.Store.WebBase.HtmlHelpers;

@{
    Layout = "~/Themes/Default/Views/_MainLayout.cshtml";
}

<div class="settingsboxinner">
    <p>@Html.CommonResourceRaw("DomainRegDescription")</p>

    @using (Html.BeginForm())
    {

        <fieldset>
            <label for="queryType-domainreg">
                <input id="queryType-domainreg" name="queryType" type="radio" value="domainreg" data-bind="checked: Domains.QueryType" />
            </label>
            <label for="queryType-transfer">
                <input id="queryType-transfer" name="queryType" type="radio" value="transfer" data-bind="checked: Domains.QueryType" />
            </label>
        </fieldset>
    }

    <div data-bind="visible: Domains.DomainRegActive">
        @Html.Partial("_DomainRegistration", Model)
    </div>
</div>

@section scripts {
    @Scripts.Render("~/bundles/domains")

    <script type="text/javascript">
        var Atomia = Atomia || {};
        Atomia.ActiveViewModel = Atomia.ActiveViewModel || {};

        Atomia.ActiveViewModel.Domains = new Atomia.ViewModels.Domains();
        Atomia.ActiveViewModel.DomainRegistration = new Atomia.ViewModels.DomainRegistration(
            Atomia.ActiveViewModel.Cart.MakeCartItem,
            Atomia.ViewModels.DomainRegistrationItem
        );
    </script>
}
